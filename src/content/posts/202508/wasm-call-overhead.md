---
title: "WebAssembly 调用开销分析"
date: "2025-08-26"
tags: ["WebAssembly", "性能优化", "JavaScript", "Rust"]
description: "希望没有什么神奇的优化手段干扰测试，实在是不太懂 Rust 和 V8 的各种编译机制。"
author: "Elecmonkey"
---

> 希望没有什么神奇的优化手段干扰测试，实在是不太懂 Rust 和 V8 的各种编译机制。

## 调用开销分析

在 WASM 内部最简单的加法操作。

### 测试环境

- 测试次数: 1,000,000 次
- 测试工具: Chrome 139

### 测试结果

| 指标 | 数值 |
| :--- | :--- |
| 总调用次数 | 1,000,000 |
| 总时间 | 21.50ms |
| 单次调用时间 | 21.50 纳秒 |
| 每秒调用次数 | 46,511,628 |
| 单次调用开销 | 0.0215 微秒 |

## 计算密集型测试 (Rust vs JavaScript)

递归计算斐波那契第 40 个数的测试。

### 测试环境

- 测试工具: Chrome 139
- Rust (WASM) 执行次数: 50,000 次
- JavaScript 执行次数: 5 次

### 测试结果

#### Rust (WASM) 50,000 次结果

- 总时间: 6.40ms

#### JavaScript 5 次结果

- 总时间: 3549.40ms